
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="itemInfo">
    <div id="name">
        <h1 id='pname'>天猫网</h1>
        <div id="pdes">货源充足。</div>
        <div >已售：<strong id="psales">70000</strong></div>
        <div>原价：<strong id='pprice'>6300</strong>元</div>
        <div>优惠价：<strong id='pyouhui'>6000</strong>元</div>
        <div>折扣：<strong id='pzhekou'>9.5</strong>折</div>
        <div>生产日期：<strong id='date'>2017-09-03</strong></div>
    </div>
</div>
<button id='btn'>加入购物车</button>

</body>
</html>

<script>
    function dateFormat(date,format){
        var o = {
            "M+" : date.getMonth()+1,
            "d+" : date.getDate(),
            "h+" : date.getHours(),
            "m+" : date.getMinutes(),
            "s+" : date.getSeconds(),
            "q+" : Math.floor((date.getMonth()+3)/3),
            "S" : date.getMilliseconds()
        }
        if(/(y+)/.test(format)) format=format.replace(RegExp.$1,
                (date.getFullYear()+"").substr(4- RegExp.$1.length));
        for(var k in o)if(new RegExp("("+ k +")").test(format))
            format = format.replace(RegExp.$1,
                    RegExp.$1.length==1? o[k] :
                            ("00"+ o[k]).substr((""+ o[k]).length));
        return format;
    }

    function Product(name,price) {
        this.name=name
        this.price=0;
        this.description = '';
        this.zhekou = ''
        this.sales = ''
        this.produceDate
        Object.defineProperty(this, "price", {
            get: function () {return price*0.9;},
            set: function (value) {
                if(value>10000)
                {
                    alert('产品价格必须在0--1万之间');
                }else{
                    price = value;
                }
            }
        });
        Object.defineProperty(this, "produceDate", {
            get: function () {
                return produceDate.toLocaleString();
            },
            set: function (value) {
                produceDate = value;
            }
        });
    }

    Product.prototype={
        getPrice:function() {
            return this.price
        },
        addToCart:function(){
            alert('将物品添加到购物车')
        }

    }


    Product.prototype.buy=function(){

    }
    Product.prototype.addToCart=function(){

    }

    var btn = document.getElementById('btn')
    var name = document.getElementById('pname')
    var price = document.getElementById('pprice')
    var sum = document.getElementById('sum')
    var des = document.getElementById('pdes')
    var youhuijia = document.getElementById('pyouhui')
    var zhekou = document.getElementById('pzhekou')
    var sales = document.getElementById('psales')
    var date = document.getElementById('date')


    window.onload=function() {

        var iphone = new Product()


        iphone.name='iphone8'
        iphone.price=6000
        iphone.description='iphone岂止于大'
        iphone.youhuijia=5888
        iphone.zhekou=9.8
        iphone.sales=40000
        iphone.produceDate=new Date()


        name.innerHTML=iphone.name
        price.innerHTML=iphone.price
        des.innerHTML=iphone.description
        youhuijia.innerHTML=iphone.youhuijia
        zhekou.innerHTML=iphone.zhekou
        sales.innerHTML=iphone.sales
        date.innerHTML=iphone.produceDate

        btn.onclick = function(){
            iphone.addToCart()
        }
    }


</script>
